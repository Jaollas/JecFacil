
<div class="min-h-screen font-sans">
  <app-header (search)="onSearchProcess($event)"></app-header>
  
  <main class="container mx-auto max-w-4xl p-4 md:p-6">
    @if (loading()) {
      <div class="text-center py-20">
        <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
        <p class="mt-4 text-lg text-gray-600">Buscando informações do processo...</p>
      </div>
    } @else if (error()) {
      <div class="text-center py-20 bg-red-50 border border-red-200 rounded-lg p-6">
        <svg class="w-16 h-16 text-red-500 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
        <h2 class="mt-4 text-2xl font-bold text-red-800">Erro na Busca</h2>
        <p class="mt-2 text-red-700">{{ error() }}</p>
      </div>
    } @else if (processo(); as p) {
      <div class="space-y-8">
        @if (isMockData()) {
          <div class="bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 p-4 rounded-r-lg" role="alert">
            <p class="font-bold">Aviso de Demonstração</p>
            <p>Não foi possível conectar ao serviço do tribunal. Os dados exibidos são de demonstração para fins ilustrativos.</p>
          </div>
        }
        <section>
          <h2 class="text-xl font-semibold text-gray-700 mb-4">Linha do Tempo do Processo</h2>
          <app-timeline [etapas]="etapas()"></app-timeline>
        </section>

        <section>
          <h2 class="text-xl font-semibold text-gray-700 mb-4">Status Atual</h2>
          <app-status-card [movimentacao]="p.ultimaMovimentacao"></app-status-card>
        </section>

        <section>
          <app-digital-lawyer-tips [stageName]="etapaAtualNome()"></app-digital-lawyer-tips>
        </section>

        <section>
          <h2 class="text-xl font-semibold text-gray-700 mb-4">Últimas Movimentações</h2>
          <app-history [historico]="p.historico"></app-history>
        </section>
      </div>
    } @else {
      <div class="text-center py-20">
        <svg class="w-20 h-20 text-blue-500 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
        <h2 class="mt-4 text-3xl font-bold text-gray-800">Bem-vindo ao JEC Fácil</h2>
        <p class="mt-2 text-lg text-gray-600">Consulte seu processo. Digite o número no campo acima para começar.</p>
      </div>
    }
  </main>

  <footer class="text-center p-4 mt-8 text-gray-500 text-sm">
    <p>&copy; 2024 JEC Fácil. Uma ferramenta de demonstração.</p>
  </footer>
</div>
